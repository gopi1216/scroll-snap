var uUtils={dispatchEvent:function(t,n,e){var a;if("function"==typeof Event){var i={view:window,bubbles:!0,cancelable:!0,detail:e};a=new CustomEvent(t,i)}else(a=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,e);n.each(function(){this.dispatchEvent(a)})},settings:{toastTimeout:8e3}};$(document).on("click","input.toggle ~ .input-group-append .input-group-text",function(){var t=$(this),n=t.closest(".input-group").find("input.toggle"),e=0<n.filter(":password").length?"text":"password";n.attr("type",e);var a="";window.i18next&&i18next.isInitialized?(a="text"==e?"password.hide":"password.show",t.attr("data-tr","[data-original-title]"+a),t.localize()):(a="text"==e?"Hide Password":"Show Password",t.attr("data-original-title",a)),t.tooltip("hide").tooltip("show")}),uUtils.toaster=function(t,n,e,a){var i="number"==typeof e?a:e,o="number"==typeof e?e:null;$.toaster({message:t,type:n,delay:o,size:i})},$.toaster=function(t){"use strict";var e,a,n=(t.type||"success").toLowerCase(),i="ts"+Date.now(),o=t.id||"",s=t.message||t.msg,l=1e3*(t.delay||8),d="",r=$(".toaster").length,c="",u="",m=(t.size||"").toLowerCase(),p=0!=t.autohide,f="timer"==n?"time":n+"-s",h=t.buttons||{};$.each(t.buttons,function(t,n){e=n.buttonClass||"btn-default",a=n.label||"",d+='<button type="button" class="btn btn-link toaster-btn '+e+'" data-button-action="'+t+'">'+a+"</button>"}),"timer"==n&&(u='<div class="timer '+m+'" id="timer_'+i+'"></div>'),!t.buttons&&"timer"!=n||(c='<div class="toast-footer">'+u+'<div class="toast-action">'+d+"</div></div>");var v=['<div class="toast '+m+'" data-'+n+' role="alert" id="'+o+'"  data-toast-id="'+i+'" data-animation="true"><div class="toast-body"><div><i class="icon '+f+" "+m+'"></i></div><div>'+s+"</div></div>"+c+"</div>"].join("");0===r&&$('<div class="toaster"></div>').appendTo("body"),$(v).appendTo(".toaster");var g=$('[data-toast-id="'+i+'"]');g.toast({delay:l,autohide:p}).toast("show"),g.find(".toaster-btn").on("click",function(){var t=$(this),n=t.data("buttonAction"),e=t.closest(".toast").attr("data-toast-id");h[n].action(o),$('[data-toast-id="'+e+'"]').toast("hide")}),"timer"==n&&uUtils.timer("#timer_"+i,l/1e3,function(){t.hasOwnProperty("onTimerComplete")&&t.onTimerComplete(o)})},uUtils.searchInput=function(t,l){var n=$(t);n.find(".search-input").each(function(){0<$(this).siblings(".search-close").length||$('<a href="javascript:;" class="search-close" title="Clear Search"><i class="icon clear"></i></a>').insertAfter(this),window.i18next&&i18next.isInitialized&&$(this).siblings(".search-close").attr("data-tr","[title]clearSearch")}),window.i18next&&i18next.isInitialized&&n.localize(),n.on("input",".search-input",function(){var t=$(this),n=t.val().length,e=0==n,a=e?"removeClass":"addClass",i=t.is("[data-min-length]")?t.data("minLength")>n:e,o=t.is("[data-auto-complete]"),s=t.nextAll(".dropdown-menu");t[a]("has-val"),t.nextAll(".btn").prop("disabled",i),l&&l.prop("disabled",i),o&&!e?s.addClass("show"):s.removeClass("show")}),n.on("click",".search-close",function(){var t=$(this).siblings(".search-input");t.val("").focus(),uUtils.dispatchEvent("input",t)}),n.on("click",".search-input[data-auto-complete] ~ .dropdown-menu .dropdown-item",function(){var t=$(this),n=t.closest(".dropdown-menu");n.prevAll(".search-input[data-auto-complete]").val(t.text()),n.removeClass("show")})},$(document).on("input",".custom-file-input",function(t){var n=$(this).closest(".custom-file").find(".custom-file-label");t.target.files.length&&n.html(t.target.files[0].name),n.addClass("file-input-selected")}),uUtils.spinner=function(t){var n=$("body");n.addClass("loading"),setTimeout(function(){n.removeClass("loading")},5e3)},$.snackbar=function(t){"use strict";$(".snackbar").remove();var e,a,n=(t.type||"inline").toLowerCase(),i="ts"+Date.now(),o=t.message||t.msg,s=t.transition||"fade",l="",d=$(".snackbar-wrap").length,r=t.buttons||{};$.each(t.buttons,function(t,n){e=n.buttonClass||"btn-default",a=n.label||"",l+='<button type="button" class="snackbar-btn '+e+'" data-button-action="'+t+'">'+a+"</button>"});var c=['<div class="snackbar ',n," ",s,'" id="',i,'"><div class="snackbar-body">',o,'</div><div class="snackbar-buttons">',l,"</div></div>"].join("");0===d&&$('<div class="snackbar-wrap"></div>').appendTo("body"),$(c).appendTo(".snackbar-wrap"),setTimeout(function(){$("#"+i).addClass("open")},10),$(".snackbar-btn").off("click").on("click",function(){var t=$(this),n=t.data("buttonAction"),e=t.closest(".snackbar");r[n].action(),e.removeClass("open"),setTimeout(function(){e.remove()},600)})},uUtils.menuToggle=function(t){var a=$(t);function i(){var t=a.filter(".accordion").find("ul.nav > li.nav-item > a.active");if(0<t.length){var n=t.closest("li"),e=a.find(".sub-menu-preview");n.has("ul").length?e.addClass("d-none"):(e.find(".page-name").text(n.find(".text").text()),e.removeClass("d-none"))}}sessionStorage.getItem("pinned")&&a.addClass("min"),i(),$(document).click(function(){$(".sidemenu").removeClass("open")}),a.on("click",".menu-pin",function(){$(this).closest(".sidemenu").toggleClass("min"),sessionStorage.getItem("pinned")?sessionStorage.removeItem("pinned"):sessionStorage.setItem("pinned",!0)}),a.on("click",".menu:not(.min)",function(t){t.stopPropagation(),$(this).closest(".sidemenu").toggleClass("open")}),a.on("click",".form-control.search-input",function(t){t.stopPropagation()}),a.filter(".sidemenu.accordion").on("click",".nav.flex-column .nav-item .nav-link",function(t){var n=$(this),e=n.closest("li.nav-item");e.has("ul").length&&(t.stopPropagation(),n.toggleClass("open"),e.siblings().find("a.nav-link").removeClass("open"),n.closest(".sidemenu.accordion").addClass("open")),e.siblings().find("a.nav-link").removeClass("active"),n.addClass("active"),i()}),a.on("input",".search-input",function(){var n=$(this).val().toLowerCase();a.find("ul.nav > li > .open.active + ul li").each(function(){var t=$(this);-1<t.text().toLowerCase().indexOf(n)?(t.show(),t.filter(".dropdown").find("> .nav-link").addClass("open active")):t.hide()})})},uUtils.numberInput=function(t){var n=$(t);$('[data-toggle="tooltip"]').tooltip();return n.off("keypress").on("keypress",".number-input .form-control",function(t){return/[0-9]/.test(t.key)}),n.off("input").on("input",".number-input .form-control",function(t){var n=$(this),e=n.closest(".number-input"),a=+n.val(),i=n.is("[data-number-range]"),o=0==n.val().length;if(i){var s=n.data("numberRange").split(":"),l=+s[0],d=+s[1];a<l?a=l:d<a&&(a=d),e.find(".btn.minus").prop("disabled",a<=l),e.find(".btn.plus").prop("disabled",d<=a)}a=o?"":a,n.val(a)}),n.off("click").on("click",".number-input .btn",function(){var t=$(this),n=t.closest(".number-input").find(".form-control"),e=t.hasClass("minus"),a=n.is("[data-number-step]")?n.data("numberStep"):1,i=+n.val(),o=e?i-a:i+a,s=n.is("[data-number-range]"),l=0==n.val().length;if(s){var d=+n.data("numberRange").split(":")[0];o=l?d:o}n.val(o),uUtils.dispatchEvent("input",n)}),{getVal:function(){return n.find(".form-control").val()}}},$.confirm=function(t){"use strict";$(".confirm.modal").remove();var e,a,i,n=(t.type||t.confirmType).toLowerCase(),o="-s",s=t.class||t.confirmClass||"",l=t.id||"confirmDlg_"+Date.now(),d=t.message||t.msg||t.m,r=t.description||t.desc||"",c=t.buttonstatus||t.buttonStatus||"show",u="",m=t.buttons||{};t.hasOwnProperty("solidIcon")&&!t.solidIcon&&(o=""),$.each(t.buttons,function(t,n){e=n.id||"DlgBtn_"+t.replace(/[^a-zA-Z0-9]/g,""),a=n.label||t,i=n.buttonClass||"","",u+='<button type="button" class="btn '+i+'" id="'+e+'"  data-button-action="'+t+'">'+a+"</button>"});var p=['<div class="modal fade confirm ',s,'" id="',l,'" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">','<div class="modal-dialog modal-dialog-centered" role="document"><div class="modal-content">','<div class="modal-body"><p class="modal-icon"><i class="icon ',n,o,'"></i></p><p class="modal-message">',d,'</p><p class="modal-description">',r,"</p></div>",'<div class="modal-footer ',c,'">',u,"</div></div></div></div>"].join("");$(p).appendTo("body"),setTimeout(function(){$("#"+l).modal("show")},10),$(".confirm.modal .btn").off("click").on("click",function(){var t=$(this),n=t.data("buttonAction"),e=t.closest(".confirm.modal");m[n].action(),e.modal("hide"),setTimeout(function(){e.remove()},600)})},uUtils.contextualComment=function(t,h){var n=$(t),e=n.find(".comment");if(e.length||(e=n.filter(".comment")).length||(e=n).length){var v={maxWidth:650,maxHeight:400,minWidth:400,minHeight:300,ellipsisLimit:100,maxChars:1e3,resizable:!0,draggable:!0,required:!1};e.each(function(){var t,n,e,a,i=$(this),o=i.data(),s=i.text(),l="",d="",r=!1,c=0,u="",m="";o=$.extend({},v,o,h),t=Boolean(o.resizable),Boolean(o.draggable),n=Boolean(o.required),a=o.title||"Comments",u=o.addLinkText||"Add Comment",m=o.editLinkText||"Edit Comment",c=o.ellipsisLimit,f(s),e='<div class=""><span class="pre-ellipsis">'+l+'</span><span class="ellipsis">...</span> <a href="javascript:;" class="text-underline open-link">'+d+"</a></div>";var p='<div class="dropdown-menu contextual-comment '+(t?"resizable":"")+'" data-draggable="'+!1+'"><div class="contextual-comment-header"><h3 class="title">'+a+'<i class="icon close" data-close=""></i></h3></div><div class="contextual-comment-body"><form class="form-outline h-100"><div class="form-row h-100"><div class="col-sm-12 form-group"><textarea class="form-control" data-tr="[placeholder]enter_comments" placeholder="Enter Comments" spellcheck="false" rows="2">'+s+'</textarea><small class="form-text text-muted float-right"><span id="countRemaining"></span><span data-tr="chars_remaining"> chars remaining</span></small><div class="error-txt text-left" data-tr="field_cannot_be_empty">Field cannot be empty</div></div></div></form></div><div class="contextual-comment-footer"><button type="button" class="btn btn-secondary btn-md" data-close="" data-tr="btn_cancel">Cancel</button><button type="button" class="btn btn-primary btn-md" id="btnUpdate" data-tr="btn_update">Update</button></div></div>';function f(t){0==t.length?(d=u,l=""):t.length>=c?(d=m,l=t.substr(0,c),r=!0):(d=m,l=t)}i.html(e),i.find(".ellipsis")[r?"show":"hide"](),i.find(".open-link").after(p),i.find(".open-link").dropdown(),window.i18next&&i18next.isInitialized&&i.localize(),g(i,o),i.find("[data-close]").on("click",function(){i.find(".open-link").dropdown("hide")}),i.find("textarea").on("input",function(){0<$(this).val().length&&(i.find(".form-group").removeClass("has-error-msg"),i.find("#btnUpdate").removeClass("disabled")),g(i,o)}),i.find("#btnUpdate").off("click").on("click",function(){var t=i.find("textarea").val().trim();if(r=!1,n&&0==t.length)return i.find(".form-group").addClass("has-error-msg"),!1;f(t),i.find(".pre-ellipsis").text(l),i.find(".open-link").text(d),i.find(".ellipsis")[r?"show":"hide"](),i.find(".open-link").dropdown("hide"),o.onUpdate&&o.onUpdate(t)}),i.find(".open-link").on("click",function(){i.find(".open-link").dropdown("show"),function(t){var n=t.val();t.val("").focus().val(n)}(i.find("textarea")),function(t,n){t.css({maxHeight:n.maxHeight,maxWidth:n.maxWidth,minHeight:n.minHeight,minWidth:n.minWidth,width:"inherit",height:"inherit",top:"inherit",left:"inherit"})}(i.find(".contextual-comment"),o)})})}function g(t,n){var e=t.find("textarea").val().length,a=n.maxChars-e;t.find("#countRemaining").text(a),t.find("#countRemaining")[a<0?"addClass":"removeClass"]("error"),t.find("#btnUpdate").prop("disabled",a<0)}},uUtils.timer=function(t,n,a){var e=document.querySelectorAll(t+":not(.icon)");function i(n,e){var t=new Date(1e3*e).toISOString().substr(11,8);n.querySelector(".time").innerHTML=t,n.setTimer=setTimeout(function(){var t=e-1;0<=t?uUtils.timer.startTimer(n,t):a()},1e3)}e.forEach(function(t){t.innerHTML='<div class="clock"><div class="fill l"></div><div class="fill r"></div></div><div class="time">HH:MM:SS</div>',t.classList.add("start"),t.style="--timer:"+n+"s",i(t,n)}),uUtils.timer.startTimer=i,uUtils.timer.resetTimer=function(t){var n=document.querySelector(t);n.setTimer&&(clearTimeout(n.setTimer),n.setTimer=void 0),$(n).find(".time").html="00:00:00"}},$(document).on("click","[data-switch-theme]",function(){var t=$("html").attr("theme");t="light"==t?"dark":"light",$("html").attr("theme",t)}),$(document).on("click",".theme-action div.dropdown-item",function(t){t.stopPropagation()}),$(document).on("click","[data-switch-brand]",function(){var t=$(this),n=t.attr("data-switch-brand");t.addClass("active").siblings().removeClass("active"),uUtils.switchBrand(n)}),uUtils.switchBrand=function(t){var n="light"==$("html").attr("theme")?"500":"400";document.documentElement.style.setProperty("--primary","var(--"+t+"-"+n+")"),document.documentElement.style.setProperty("--secondary","var(--"+t+"-700)"),document.documentElement.style.setProperty("--tertiary-1","var(--"+t+"-200)"),document.documentElement.style.setProperty("--tertiary-2","var(--"+t+"-100)")},uUtils.switchTheme=function(t){$("html").attr("theme",t)},$(document).on("click",'[data-toggle="overlay"]',function(){$(this).closest(".modal.overlay").toggleClass("open")}),$(".modal.overlay").on("hide.bs.modal",function(){$(this).removeClass("open")}),uUtils.scrollCount=function(){function a(t){var n=$(t),e=n.height(),a=n.offset().top+e,i=n.data("scrollCount"),o=n.find(i),s=o.length,l=n.next(".scroll-count-output");o.each(function(t,n){var e=$(n);e.offset().top<a&&e.addClass("viewed")});var d=s-n.find(".viewed").length;0==d&&l.fadeOut(),l.html(d)}$("[data-scroll-count]").each(function(t,n){var e=$(n);0==e.next(".scroll-count-output").length&&$('<div class="scroll-count-output">0</div>').insertAfter(e),e.parent().addClass("scroll-count"),a(n),e.off().on("scroll",function(){a(this)})})},$(document).on("change",".dropdown .pills ~ .dropdown-menu .form-check-input",function(){var t=$(this).closest(".dropdown"),n=t.find(".form-check-input:checked");t.find(".selected-count").text(n.length)}),$(document).on("click",".dropdown .pills ~ .dropdown-menu .form-check",function(t){t.stopPropagation()}),$(document).on("click","[data-auto-suggest-pills] .btn.btn-link",function(){var t=$(this),l=t.closest("[data-auto-suggest-pills]");t.toggleClass("d-none"),l.find(".dropdown").toggleClass("d-none"),l.find(".form-control").focus(),l.find(".dropdown-menu").off("click").on("click",".dropdown-item",function(){var t=$(this),n=t.data(),e=l.find(".selected-pills");0==e.length&&(l.append('<div class="selected-pills"></div>'),e=l.find(".selected-pills"));for(var a=t[0].classList,i=Object.keys(a),o=[],s=0;s<i.length;s++)"dropdown-item"!==a[s]&&"inactive"!==a[s]&&o.push(a[s]);o.push("pills"),e.append('<span class="'+o.join(" ")+' " data-index="'+t.index()+'">'+t.text()+'<a href="javascript:;"><i class="icon sm clear"></i></a></span>'),e.find('[data-index="'+t.index()+'"]').data(n).attr(n),uUtils.dispatchEvent("onSelect",l,{element:t}),t.toggleClass("d-none inactive")})}),$(document).on("click","[data-auto-suggest-pills] .selected-pills .pills a",function(){var t=$(this).parent(),n=t.closest("[data-auto-suggest-pills]"),e=t.attr("data-index");n.find(".dropdown-menu .dropdown-item").eq(e).removeClass("d-none"),uUtils.dispatchEvent("onRemove",n,{element:t}),t.remove()}),$(document).on("click","[data-auto-suggest-pills] .search-close",function(){var t=$(this),n=t.closest("[data-auto-suggest-pills]");t.closest(".dropdown").toggleClass("d-none"),n.find(".btn-link").toggleClass("d-none")}),$(document).on("input","[data-auto-suggest-pills] .form-control",function(){var t=$(this),n=t.closest("[data-auto-suggest-pills]"),e=$(this).val().toLowerCase();t.dropdown("show"),n.find(".dropdown-menu .dropdown-item").each(function(){var t=$(this),n=t.text().toLowerCase();t[0<=n.indexOf(e)?"removeClass":"addClass"]("d-none")}),n.find(".dropdown-menu .dropdown-item.inactive").addClass("d-none")}),$(document).on("input","[data-count-remaining]",function(){var t=$(this),n=t.data("countRemaining"),e=t.val().length;t.siblings(".form-text").find(".count-remaining").html(n-e)});var colors={blue_500:"#1F73E0",red_500:"#E1302D",green_500:"#2CAA52",orange_500:"#EF7015",cyan_500:"#0AAEF5",magenta_500:"#D73674",teal_500:"#18B9B0"},ct={chart:function(t,n){var i=Object.values(colors);n.data.datasets.forEach(function(e,t){if(!e.hasOwnProperty("backgroundColor"))if(1==n.data.datasets.length||"pie"==n.type){var a=[];n.data.datasets[t].data.forEach(function(t,n){a.push(i[n]),e.backgroundColor=a})}else e.backgroundColor=i[t],e.borderColor=i[t]}),this.create(t,n)},create:function(t,n){var e=document.getElementById(t).getContext("2d");window[t]=new Chart(e,n)}};$(document).on("input","input[table-search]",function(){var t=$(this),n=t.val(),e=t.attr("table-search");$(e).DataTable().search(n).draw()}),$(document).on("input",".dropdown-search .search-input",function(t){var n=$(this),e=n.closest(".dropdown-menu").find("li").not(".dropdown-search"),a=n.closest(".dropdown-search"),c=n.val(),u=c.startsWith("#"),m=new RegExp(c,"gi"),p=[];e.each(function(t,n){var e=$(this),a=e.find("> a"),i=e.find("a").text().toLowerCase(),o=a.find(".num").text(),s="";o&&(a.attr("data-num",o),u||(a.find(".num").remove(),s='<bdi class="num">'+o+"</bdi>"));var l=e.find("> a").text();if(u){c=1<c.length?c.substring(1):c;var d=e.find("> .dropdown-item").data("num");d&&(i=d.toString())}else{var r=l.replace(m,function(t){return'<span class="b">'+t+"</span>"})+s;p.push(r),e.find("> .dropdown-item").html(p[t])}-1<i.indexOf(c)?e.show():e.hide()}),0<c.length?a.addClass("searching"):a.removeClass("searching")}),$(document).on("click",".dropdown-search .search-close",function(t){t.stopPropagation(),$(this).closest(".dropdown-search").find(".search-input").val("").trigger("input")}),$(document).on("click",".dropdown-menu.accordion li.dropdown > .dropdown-item",function(t){t.stopPropagation(),$(this).toggleClass("show")});